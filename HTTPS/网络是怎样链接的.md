# chap1 浏览器生成消息

## 主要内容
1. 生成HTTP请求消息
    - 请求消息的构成
    - 如何生成请求消息 用到什么参数
    - 如何解析网址
2. 向DNS查询服务器的IP地址
3. DNS如何查询地址(接力)
4. 浏览器查询到IP地址后委托协议栈发送消息

## 1. 生成HTTP请求消息
- HTTP: Hypertext Transfrom Protocol
- URL: Uniform Resource Locator

浏览器首先需要URL获取Web服务器的地址，然后通过HTTP协议访问服务器，最后会受到服务器返回的资源以及状态码。

上述过程有三个点比较重要：
1.浏览器如何对URL进行解析，URL包含什么信息
    - URL的构成：
- HTTP协议是什么 怎么运作
- 请求消息由什么构成


# Chap3 从网线到网络设备

上一章讨论如何将数据包转化为电信号通过网线传输。 
本章讨论通过网线传输的包如何通过集线器、交换机以及路由器等网络设备进入互联网。

## 3.1 集线器
集线器将收到的数据包法网所有连接在上面的线路。 
1. 双绞线：主要是为了抑制传输过程中的信号衰减以及失真等问题。 在传输过程中主要存在两种噪声，分别为外源性噪声以及内源性噪声。
   - 外源性噪声：电线外的电子设备产生的噪声(为什么会有噪声？因此设备周围存在磁场 而磁场会产生电流 影响电线内部的电流)
     - 解决方式：以双绞线的方式缠绕两根电线 使得外界产生的噪声相互抵消
   - 内源性噪声：电线内部其他双绞线产生的噪声(这个噪声本身是很微弱的 但是由于距离太近了 所以也会产生一定的影响)
     - 解决方式：控制双绞线每节之间的间距
2. 连接方式：MDI  MDI-X 这块还不是很清楚
## 3.2 交换器
交换机根据地址表进行转发数据包，内部会维护一张MAC地址表，根据这张表查找地址，然后将信号发送到相应的端口。 
交换机内部的MAC模块本身不具有地址，所以不会接收专属于它的包，而是接收所有的包然后逐一根据目的地进行转发。 
特殊操作：
- 源端口和目标端口一致，会直接丢弃当前数据包(因为会导致目标端收到两个相同的包 首先包会从集线器到达目标端以及交换机 然后交换机园路返回到集线器 又会到达目标端口 所以导致包重复发送 所以直接丢弃即可)
- 在地址表中找不到指定的MAC地址，则向所有端口发送该数据包(以太网广播的特性)
- 目标地址为广播地址(255.255.255.255)时，会向所有端口发送该数据包

<mark>Remark</mark>：交换机支持全双工，而集线器不支持。全双工即为同时发送数据 包与接收数据包，集线器不支持的原因在于集线器最后会将数据包发往所有连接的线路，所以接收和发送会有碰撞；而交换机只是转发到指定端口，其余端口此时是空闲的，所以支持全双工。


# Chap5 数据包与服务器
这章主要的点
1. 防火墙的结构 作用 以及 工作方式(最基本的防火墙就是包过滤)
2. 服务器负载均衡的方式
    - 多设置几台同等地位的服务器 这种称为负载均衡 然后关键点就变成了如何将请求分发给服务器 两种方式(这一部分的内容和mysql的内容基本一致 不对 本来就是一块内容 不过mysql是数据库服务器)
      - 由DNS服务器 轮询式分发 即每次查询ip地址时 依次返回三台服务器的地址 轮着来
      - 增设一台服务器 用于监控三台服务器的负荷状态 然后根据这个状态分发请求 
    - 多设置几台服务器 不过不同的服务器负责处理不同的请求 即将功能拆分到几台服务器上
    - 增设缓存服务器 
      - 注意在客户端和服务器端增设缓存的区别 在客户端增设缓存可以减少网络中的流量 不至于堵塞网络；而在服务器端增设缓存 可以提高相应速度 不过网络中的数据包流量不会减少

# Chap6 服务器的响应




# 深入TCP实践
1. 基本概念：TCP 头部、MTU、MSS等概念
2. TCP 的面向连接、可靠、流协议说的是什么
3. TCP 的 11 种状态如何模拟以及如何互相转换
4. 如何模拟同时打开、同时关闭
5. 半连接、全连接队列是什么，backlog 参数有什么作用
6. 快速打开的原理是什么
7. TCP SYN Flood 攻击背后的原理
8. TCP 最不好理解的 TIME_WAIT 状态是什么
9. SO_REUSEADDR、SO_LINGER 选项对网络编程有什么影响
10. TCP 有 7 个定时器是哪些，分别在什么条件下起作用
11. 流量控制、滑动窗口、拥塞控制、快重传、慢启动等概念
12. keepalive 机制
13. Nagle 算法、延迟确认的相爱相杀
14. 网络学习相关的工具介绍：telnet、nc、tcpdump、wireshark、lsof、iptables、scapy 等
15. wireshark 那些难以看懂的提示是什么意思
16. 协议栈测试工具 packetdrill 的使用
17. 如何杀掉一条 TCP 连接
18. 常见网络面试题分析